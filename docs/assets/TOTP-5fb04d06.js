import{r as o,j as e,W as l,B as m,S as u,D as h,e as r,P as f}from"./index-500d2464.js";import{c as y,a as g,b as p,k as j,d as D,e as k}from"./index-593c8335.js";import{C as F}from"./Card-31f9e4de.js";function S(){const i=new y.Authenticator({createDigest:g,createRandomBytes:p,keyDecoder:j,keyEncoder:D});o.useEffect(()=>{console.log("init"),window.Buffer||(window.Buffer=k.Buffer),s()},[]);const a=[{user:"github",service:"GitHub1",secret:"7KCADHIPSFFJ7F6A",token:"-"},{user:"github2",service:"GitHub",secret:"7KCADHIPSFFJ7F6B",token:"-"},{user:"github3",service:"GitHub3",secret:"7KCADHIPSFFJ7F6C",token:"-"},{user:"gmail",service:"google",secret:"7KCADHIPSFFJ7F6D",token:"-"}],[n,d]=o.useState(a),s=()=>{console.log("timer30sec");const t=n.map(c=>({...c,token:i.generate(c.secret)}));d(t)};return e.jsxs(e.Fragment,{children:[e.jsx(l,{children:e.jsx("title",{children:" TOTP "})}),e.jsx(m,{children:e.jsx(u,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsx(F,{sx:{p:5,width:1,maxWidth:800},children:e.jsxs(u,{direction:"column",spacing:2,alignItems:"center",children:[e.jsx(x,{timer30sec:s}),e.jsx(h,{sx:{my:3,width:400},children:e.jsx(r,{variant:"body2",sx:{color:"text.secondary"},children:"Token"})}),n.map((t,c)=>e.jsxs(u,{children:[e.jsx(r,{variant:"body2",sx:{color:"text.secondary"},children:`${t.user} | ${t.service}`}),e.jsx(r,{variant:"body2",sx:{color:"text.secondary"},children:t.token}),e.jsx(r,{children:t.token})]},`${c}
                  -${t.user}-${t.service}`))]})})})})]})}const x=({timer30sec:i})=>{const[a,n]=o.useState("00:00:00");return o.useEffect(()=>{const d=setInterval(()=>{const s=new Date;s.getSeconds()%30===0&&i(),n(`${s.toLocaleTimeString("en-GB")}`)},1e3);return()=>clearInterval(d)},[]),e.jsx(r,{children:`${a}`})};x.propTypes={timer30sec:f.func};export{S as default};
